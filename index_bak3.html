<!doctype html>
<html lang="en">
  <head>
    <script src="https://developers.panopto.com/scripts/embedapi.min.js"></script>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- <script type="module" src="/head.js"></script> -->
    <!-- <link rel="stylesheet" href="style.css"> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.10/pdfmake.min.js" integrity="sha512-w61kvDEdEhJPJLSAJpuL+RWp1+zTBUUpgPaP+6pcqCk78wQkOaExjnGWrVbovojeisWGQS7XZKz+gr3L+GPYLg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.10/vfs_fonts.js" integrity="sha512-nNkHPz+lD0Wf0eFGO0ZDxr+lWiFalFutgVeGkPdVgrG4eXDYUnhfEj9Zmg1QkrJFLC0tGs8ZExyU/1mjs4j93w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>    
   
   <style> 
   /* Hide scrollbar for Webkit-based browsers (Chrome, Safari) */
   html, body {
            overflow: hidden; /* Disable scrolling */
        }

        /* Alternatively, for only hiding the scrollbar while allowing scroll with mouse or keyboard */
        html, body {
            overflow: -moz-scrollbars-none; /* For older versions of Firefox */
            -ms-overflow-style: none; /* For Internet Explorer and Edge */
        }
        html::-webkit-scrollbar, body::-webkit-scrollbar {
            display: none; /* For Webkit-based browsers (Chrome, Safari) */
        }
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fade-in-seal {
  from { opacity: 0; }
  to { opacity: 0.4; }
}

.dot-flashing {
  position: relative;
  width: 10px;
  height: 10px;
  border-radius: 5px;
  background-color: #9880ff;
  color: #9880ff;
  animation: dotFlashing 1s infinite linear alternate;
  animation-delay: .5s;
}
        
.dot-flashing::before, .dot-flashing::after {
  content: '';
  display: inline-block;
  position: absolute;
  top: 0;
}

.dot-flashing::before {
  left: -15px;
  width: 10px;
  height: 10px;
  border-radius: 5px;
  background-color: #9880ff;
  color: #9880ff;
  animation: dotFlashing 1s infinite alternate;
  animation-delay: 0s;
}

.dot-flashing::after {
  left: 15px;
  width: 10px;
  height: 10px;
  border-radius: 5px;
  background-color: #9880ff;
  color: #9880ff;
  animation: dotFlashing 1s infinite alternate;
  animation-delay: 1s;
}

@keyframes dotFlashing {
  0% {
    background-color: #9880ff;
  }
  50%,
  100% {
    background-color: #ebe6ff;
  }
}

.animate-fade-in {
  animation: fade-in 2.2s ease-in-out;
}
.animate-fade-in-seal {
  animation: fade-in 2.2s ease-in-out;
}

.video-docker video {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
.video-docker::after {
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  background: rgba(0, 0, 0, 0);
  z-index: 1;
}

.video-content {
  z-index: 2;
}

#chat-container {
  z-index: 3;
}

.skip {
  z-index: 3;
}

.user-bubble-radius {
  border-radius: 20px 20px 0px 20px; /* Set the corner radius to 10 pixels */
}

.arredondo-bubble-radius {
  border-radius: 20px 20px 20px 0px; /* Set the corner radius to 10 pixels */
}
.msg-send-radius {
  border-radius: 20px 20px 20px 0px; /* Set the corner radius to 10 pixels */
}
.info-div-radius {
  border-radius: 0px 0px 20px 20px; /* Set the corner radius to 10 pixels */
}

.bubble {
  position: absolute;
  width: 500px;
  /* background-image: url('/speech_bubble.png'); */
}

/*
  overlay style CSS source
  https://stackoverflow.com/questions/19361291/css3-spotlight-effect-using-a-rounded-rectangle-with-gradients
*/
.overlay {
  position: absolute;
  border-radius: 20px;  
  box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.5) inset, 0px 0px 0px 2000px rgba(0,0,0,0.5);
  z-index: 9;
}
.overlay1 {
  position: absolute;
  border-radius: 20px;  
  box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.5) inset, 0px 0px 0px 2000px rgba(0,0,0,0.5);
  z-index: 9;
}
.inline-image {
    display: inline-block;
    width: 36px; /* Set the desired width */
    height: 36px; /* Set the desired height */
    background-size: cover;
    background-position: center;
    vertical-align: middle; /* Align the images vertically with the middle of the text */
}
.downloadicon {
    background-image: url('download_tour_icon.png');
}
.panopto-player {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  overflow: hidden;
}
    </style>

    <title> Dr Arredondo </title>
  </head>
  <body>


<div id="waiting" class="panopto-player" style="display: none;">
  <!-- <iframe src="https://westcoastuniversity.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=1cb96a40-6b26-4b75-b491-b15d00022565&remoteEmbed=true&remoteHost=http%3A%2F%2Flocalhost%3A5173&embedApiId=pplayer&interactivity=none&showtitle=false" height="927" width="1311" allow="autoplay; fullscreen" frameborder="0" style="height: 737px;"></iframe> -->
</div>        

<div id="inspiring" class="panopto-player" style="display: none;">
</div>

<div id="encouragement" class="panopto-player" style="display: none;">
  <!-- <iframe src="https://westcoastuniversity.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=0bf04012-8ba7-43cc-9049-b1a9016e83f8&remoteEmbed=true&remoteHost=http%3A%2F%2Flocalhost%3A5173&embedApiId=pplayer&interactivity=none&showtitle=false" height="927" width="1311" allow="autoplay; fullscreen" frameborder="0" style="height: 737px;"></iframe> -->
</div>

<div id="no-answer" class="panopto-player" style="display: none;">
  <!-- <iframe src="" height="927" width="1311" allow="autoplay; fullscreen" frameborder="0" style="height: 737px;"></iframe> -->
</div>

<!-- panopto player -->
<div id="pplayer" class="panopto-player">
  <!-- <iframe allow="autoplay; fullscreen" frameborder="0"></iframe> -->
</div>




    <section id="section_div" class=" hidden relative h-screen flex flex-col items-center justify-center text-center text-white py-0 px-3">

        <h3 id="status" class="hidden fixed bottom-5 left-5 font-light text-xl bg-purple-300 px-3"> Status: playing introduction </h3>
        <div id="speaker" class="skip fixed bottom-5 right-20 w-12 cursor-pointer">
          <svg  xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-6 h-6">
            <path strokeLinecap="round" strokeLinejoin="round" d="M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z" />
          </svg>  
        </div>
        <div id="skip_arrow" class="skip fixed bottom-5 right-5 w-12 cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-6 h-6">
            <path strokeLinecap="round" strokeLinejoin="round" d="m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5" />
          </svg>
        </div>
        
    </section>

    



    <img id="seal" src="https://storage.googleapis.com/arredondo_videos/WCU_SEAL_WHITE_1.png" class=" absolute left-10 lg:w-80 md:w-40 sm:w-24 w-0" style="top: 110px;">

    <div id="chat-container" 
      class="text-sm absolute top-1/2 w-80 bottom-1 left-1/2  -translate-x-1/2 
              sm:top-1/2   sm:w-80 
              lg:top-36  lg:bottom-52  lg:left-auto lg:right-4 lg:translate-x-0">
      <div class="shadow-md rounded-lg  w-full h-full  lg:bg-[#346D7D]/[0.6]" >

    <!-- WCU LOGO -->
          <img src="https://storage.googleapis.com/arredondo_videos/WCU_LOGO1.png" class="absolute w-32 top-1/2 left-1/2 transform -translate-x-1/2 
                 lg:w-40" >

    <!-- chat box -->
          <div id="chatbox" class="p-4 overflow-y-auto" style="position: absolute; left: 0px; top: 2px; bottom: 100px; right: 0px;">

            <!-- Chat messages will be displayed here -->

            <div class="flex justify-start mb-2">
              <div class="mb-2 flex max-w-80 items-end">
                <img src="https://storage.googleapis.com/arredondo_videos/arredondo_icon.png" class="w-10 h-10 mr-2">
                <div class="bg-gray-100 opacity-80 md:opacity-100 text-slate-950 sm:text-gray-700 arredondo-bubble-radius py-2 px-4 inline-block">
                  Feel free to ask anything that comes to mind.
                </div>
              </div>
            </div>


          </div>

          <div class="flex flex-col absolute left-4 right-4 bottom-2">
            <div id="chat_input" class="msg-send-radius bg-white flex">
                <input id="user-input" type="text" placeholder="Type a message" class="w-full px-3 py-2 border-none rounded-full focus:outline-none">
                <img id="user-send" src="/send_icon.png" class="mx-1 my-1 cursor-pointer" style="width: 32px; height: 32px" >
                
            </div>
            <div class="flex bg-[#346D7D] w-20 h-10 p-2 justify-between info-div-radius">
              <img src="https://storage.googleapis.com/arredondo_videos/info_icon.png" class="w-7 h-7" id="info_btn">
              <img src="https://storage.googleapis.com/arredondo_videos/download_icon.png" class="w-7 h-7 cursor-pointer" id="download_btn">
            </div>
          </div>
      </div>
    </div>


    <div id="overlay" class=""> </div>

<!-- bubble 0 -->  
    <div id="bubble0" class="w-[520px] h-[200px] bg-white rounded-lg shadow-md absolute z-10 top-2/4 left-2/4 -translate-x-1/2 -translate-y-1/2">
      <div class="absolute top-10 flex justify-center w-full">
        <div class="font-semibold text-xs text-[#004F59]"> Welcome to the Chat with Dr. Arredondo Experience! </div>
      </div>
      <div class="absolute top-16 flex justify-center w-full">
        <div class="font-semibold text-2xl"> Let's start with a quick overview </div>
      </div>
  
      <!-- <img src="/speech_bubble.png" > -->
      <div class="absolute top-32 flex justify-center space-x-5 w-full">
        <div class="w-40 cursor-pointer" id="lets_go"> <img src="https://storage.googleapis.com/arredondo_videos/lets_go.png" > </div>
        <div class="w-40 cursor-pointer" id="show_me_later"> <img src="https://storage.googleapis.com/arredondo_videos/show_me_later.png" > </div>
      </div>

    </div>

<!-- bubble 1 -->  
    <div id="bubble1" class="hidden bubble z-10 ">
      <div class="absolute top-1 left-1 cursor-pointer" id="x1">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6.99486 7.00636C6.60433 7.39689 6.60433 8.03005 6.99486 8.42058L10.58 12.0057L6.99486 15.5909C6.60433 15.9814 6.60433 16.6146 6.99486 17.0051C7.38538 17.3956 8.01855 17.3956 8.40907 17.0051L11.9942 13.4199L15.5794 17.0051C15.9699 17.3956 16.6031 17.3956 16.9936 17.0051C17.3841 16.6146 17.3841 15.9814 16.9936 15.5909L13.4084 12.0057L16.9936 8.42059C17.3841 8.03007 17.3841 7.3969 16.9936 7.00638C16.603 6.61585 15.9699 6.61585 15.5794 7.00638L11.9942 10.5915L8.40907 7.00636C8.01855 6.61584 7.38538 6.61584 6.99486 7.00636Z" fill="#0F0F0F"/>
        </svg>
      </div>
      <div class="absolute top-16 flex justify-center w-full">
        <div class="font-semibold text-lg">Click the </div>
        <div> <img src="https://storage.googleapis.com/arredondo_videos/info_tour_icon.png" class="w-6 mx-2"> </div>
        <div class="font-semibold text-lg"> "i" icon for more information</div>
      </div>
  
      <img src="https://storage.googleapis.com/arredondo_videos/speech_bubble.png" >
      <div class="absolute top-32 flex justify-center space-x-5 w-full">
        <div class="w-36 cursor-pointer" id="back1"> <img src="https://storage.googleapis.com/arredondo_videos/back_btn.png" > </div>
        <div class="w-36 cursor-pointer" id="next1"> <img src="https://storage.googleapis.com/arredondo_videos/next_btn.png" > </div>
      </div>
    </div>

<!-- bubble 2 -->  
<div id="bubble2" class="hidden bubble z-10 ">
  <div class="absolute top-1 left-1 cursor-pointer" id="x2">
    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M6.99486 7.00636C6.60433 7.39689 6.60433 8.03005 6.99486 8.42058L10.58 12.0057L6.99486 15.5909C6.60433 15.9814 6.60433 16.6146 6.99486 17.0051C7.38538 17.3956 8.01855 17.3956 8.40907 17.0051L11.9942 13.4199L15.5794 17.0051C15.9699 17.3956 16.6031 17.3956 16.9936 17.0051C17.3841 16.6146 17.3841 15.9814 16.9936 15.5909L13.4084 12.0057L16.9936 8.42059C17.3841 8.03007 17.3841 7.3969 16.9936 7.00638C16.603 6.61585 15.9699 6.61585 15.5794 7.00638L11.9942 10.5915L8.40907 7.00636C8.01855 6.61584 7.38538 6.61584 6.99486 7.00636Z" fill="#0F0F0F"/>
    </svg>
  </div>
  <div class="absolute top-12 pl-10 pr-8 w-full">
    <span class="font-semibold text-lg">Click the </span>
    <span class="inline-image downloadicon"> </span>
    <span class="font-semibold text-lg"> "download" icon to download your interaction history</span>
  </div>

  <img src="https://storage.googleapis.com/arredondo_videos/speech_bubble.png" >
  <div class="absolute top-32 flex justify-center space-x-5 w-full">
    <div class="w-36 cursor-pointer" id="back2"> <img src="https://storage.googleapis.com/arredondo_videos/back_btn.png" > </div>
    <div class="w-36 cursor-pointer" id="next2"> <img src="https://storage.googleapis.com/arredondo_videos/next_btn.png" > </div>
  </div>
</div>

<!-- bubble 3 (up) -->  
<div id="bubble3" class="hidden bubble z-10">
  <div class="absolute top-6 left-1 cursor-pointer" id="x3">
    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M6.99486 7.00636C6.60433 7.39689 6.60433 8.03005 6.99486 8.42058L10.58 12.0057L6.99486 15.5909C6.60433 15.9814 6.60433 16.6146 6.99486 17.0051C7.38538 17.3956 8.01855 17.3956 8.40907 17.0051L11.9942 13.4199L15.5794 17.0051C15.9699 17.3956 16.6031 17.3956 16.9936 17.0051C17.3841 16.6146 17.3841 15.9814 16.9936 15.5909L13.4084 12.0057L16.9936 8.42059C17.3841 8.03007 17.3841 7.3969 16.9936 7.00638C16.603 6.61585 15.9699 6.61585 15.5794 7.00638L11.9942 10.5915L8.40907 7.00636C8.01855 6.61584 7.38538 6.61584 6.99486 7.00636Z" fill="#0F0F0F"/>
    </svg>
  </div>
  <div class="absolute top-20 pl-10 pr-8 w-full">
    <span class="font-semibold text-lg"> To get started, select one of the buttons above </span>
  </div>

  <img src="https://storage.googleapis.com/arredondo_videos/bubble3.png" >
  <div class="absolute top-40 flex justify-center space-x-5 w-full">
    <div class="w-36 cursor-pointer" id="back3"> <img src="https://storage.googleapis.com/arredondo_videos/back_btn.png" > </div>
    <div class="w-36 cursor-pointer" id="next3"> <img src="https://storage.googleapis.com/arredondo_videos/next_btn.png" > </div>
  </div>
</div>

<!-- bubble 4 (down) -->  
<div id="bubble4" class="hidden bubble z-10 ">
  <div class="absolute top-2 left-1 cursor-pointer" id="x4">
    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M6.99486 7.00636C6.60433 7.39689 6.60433 8.03005 6.99486 8.42058L10.58 12.0057L6.99486 15.5909C6.60433 15.9814 6.60433 16.6146 6.99486 17.0051C7.38538 17.3956 8.01855 17.3956 8.40907 17.0051L11.9942 13.4199L15.5794 17.0051C15.9699 17.3956 16.6031 17.3956 16.9936 17.0051C17.3841 16.6146 17.3841 15.9814 16.9936 15.5909L13.4084 12.0057L16.9936 8.42059C17.3841 8.03007 17.3841 7.3969 16.9936 7.00638C16.603 6.61585 15.9699 6.61585 15.5794 7.00638L11.9942 10.5915L8.40907 7.00636C8.01855 6.61584 7.38538 6.61584 6.99486 7.00636Z" fill="#0F0F0F"/>
    </svg>
  </div>
  <div class="absolute top-16 pl-10 pr-8 w-full">
    <span class="font-semibold text-lg"> Or type your message in the chat box below. </span>
  </div>

  <img src="https://storage.googleapis.com/arredondo_videos/bubble4.png" >
  <div class="absolute top-36 flex justify-center space-x-5 w-full">
    <div class="w-36 cursor-pointer" id="back4"> <img src="https://storage.googleapis.com/arredondo_videos/back_btn.png" > </div>
    <div class="w-36 cursor-pointer" id="end_btn"> <img src="https://storage.googleapis.com/arredondo_videos/end_btn.png" > </div>
  </div>
</div>

    <!-- <script type="module" src="/main.js"></script> -->
<script dataname="panopto_vars">
  var seq = ['intro', 'waiting', 'inspring', 'response', 'encouraging', 'noanswer']
  var waiting_vid = '1cb96a40-6b26-4b75-b491-b15d00022565'

  var arre_encouragement = [
      '0bf04012-8ba7-43cc-9049-b1a9016e83f8', '09566bc3-8fe8-4910-b414-b1a9016e96ac', 'd7bf18ba-48d8-441c-acef-b1a9016eaf4a', 'b29b499c-a259-469c-9728-b1a9016dfecf', 'af970424-d2c5-4125-8cdc-b1a9016dfe9d',
      '65575eaa-d464-45c5-9002-b1a9016dff01', 'b9f0eb55-01e0-4819-a721-b1a9016dff2b', '0c2f7e20-72c4-480f-aade-b1a9016e0533', 'f4a181e7-3691-4fa1-b68b-b1a9016e0b46', '2af4d91e-3147-491b-9226-b1a9016e0ec3',
      '17d432e5-74d2-4ff3-93cf-b1a9016e0eed', '3537b3f6-117d-472a-9a5c-b1a9016e15cb', 'e39ae14e-a814-42f6-bb22-b1a9016e1600', '12a64d89-b2de-4c4a-bf4e-b1a9016e1cd9', 'f6a96576-276a-4d77-8c4c-b1a9016e209e',
      '1ec3bc5a-3279-4315-905e-b1a9016e250c', 'd22adee0-d4cb-4084-ba63-b1a9016e2634', '72edfdce-b296-46a4-a506-b1a9016e3571', 'ccf7508b-05db-47be-b9b7-b1a9016e4f42', '4ade7937-2937-480d-bf8a-b1a9016e644d'
  ]
  var arre_inspiring = [
      '01306d40-d3bc-4d1b-8f52-b15d00021561', 'e52d13f7-fa0e-4786-be7d-b1aa0000dcc8', '6d347bdf-a358-40a1-9c58-b1a9018b0ecf', '53279b8b-09d2-47fa-9183-b1a9018b0f34', '29923f1a-d799-4ffb-b259-b1a9018b0f60', 
      '1067d80e-d338-4fd3-b5a6-b1a9018b0efd', '7cbe0a2a-ad94-4561-b359-b1a9018b1643', '804d0f33-089a-4cc2-a59e-b1a9018b2f5d', 'b799f8a7-2145-4fb6-8d73-b1a9018b45eb', 'eab3cfcd-6a62-4c8c-bfd1-b1a9018b5e26', 
      'bca01f2e-9dc4-496d-b1cb-b1a9018b727b', '1d5857fd-69d1-40cd-9f04-b1aa0000091c', 'a04e6ad7-e2fc-4c6e-817b-b1aa00002280', '0e79bcf4-d9b6-47bc-b9e4-b1aa0000399d', 'b7e66207-c884-459f-b9a4-b1aa00004eca', 
      'bc11dbcb-3d30-4cea-82f5-b1aa0000688b', '3b617d2e-a499-422a-9b1c-b1aa0000807a', 'f81f83f9-f1cc-47fe-8f23-b1aa00009675', '5fde9be8-d6d2-44cd-ba1b-b1aa0000afd3', '0f00dd7d-90e7-4a8b-b6a5-b1aa0000c4f6'
  ]
  var arre_noanswer = [
      '5321f631-f4ae-4bb8-8c76-b15d00021d4a', 'fe9084b5-65d5-4ec3-a9fe-b1af0184816a', '412db663-912d-4724-b6d4-b1af0184819d', '40a17362-453f-4dd3-857f-b1af018481f0', 'f4ab3cb2-8117-4e71-8dfd-b1af018481c7', 
      'b84afbda-f1a7-4046-8fb0-b1af01848808', 'aa604b6c-a960-44bf-8072-b1af01848c83', 'c3a9279a-c392-45fd-8598-b1af0184928f', '7677b0c7-1a0d-4e98-9dbb-b1af0184983e', 'b27fc004-eb37-4791-9dc8-b1af01849bbc', 
      'c7932beb-a68c-4b21-bb12-b1af0184a0f3', '768f67e5-8d13-4a20-bb5a-b1af0184a172', 'b86d30f3-7538-49e0-b430-b1af0184a7fd', 'e99d5a01-15e9-4dd8-872e-b1af0184aa5e', 'b9dc8bd0-8206-46f6-a884-b1af0184af90', 
      '4f2c4bcd-c216-4867-ae1d-b1af0184bfef', 'ed2d3657-388e-4a78-be48-b1af0184d87d', '928dca7e-899b-40d4-9d4d-b1af0184f199', 'e1216ddb-ae31-4325-9b6d-b1af01850424', '055c338d-7e98-482a-9f41-b1af01851f27'
  ]
  var shuffleArray = (array) => {
    for (let i = array.length - 1; i > 0; i--) {
        // Generate a random index between 0 and i
        const j = Math.floor(Math.random() * (i + 1));
        // Swap elements at indices i and j
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  } 
</script>      


<script dataname="inspiring">

/*
*  === Panopto video start
*/
  // The following function creates an <iframe> and Panopto player
  var embedApi_inspiring
  let init_inspiring = true

  function onPanoptoEmbedApiReady()
  {
      const w = window.innerWidth
      const h = window.innerHeight
      embedApi_inspiring = new EmbedApi("inspiring", {
          width: w,
          height: h,
          //This is the URL of your Panopto site
          serverName: "westcoastuniversity.hosted.panopto.com",
          sessionId: shuffleArray(arre_inspiring)[0],
          videoParams: { // Optional parameters
          //interactivity parameter controls if the user sees table of contents, discussions, notes, & in-video search
              "interactivity": "none",
              "showtitle": "false",
              "hideoverlay": "true"
          },
          events: {
              "onIframeReady": onPanoptoIframeReady,
              "onReady": onPanoptoVideoReady,
              "onStateChange": onPanoptoStateUpdate_inspiring
          }
      });

      console.log('inspiring panopto embed api ready')
  }

  // The API will call this function when the iframe is ready
  function onPanoptoIframeReady()
  {
      // The iframe is ready and the video is not yet loaded (on the splash screen)
      // Load video will begin playback
      
      const player = document.getElementById('inspiring')
      const iframe = player.querySelector("iframe");
      const ar = window.innerWidth/window.innerHeight
      console.log('AR : ', ar)
      let scale_factor = 1
      // console.log('window width & height ::: ', window.innerWidth, window.innerHeight)

      if ( ar < 1.778 ) {
        // console.log('scale factor ::: ', scale_factor)
        const adjusted_height = Math.floor( iframe.width / 1.778 )
        iframe.style.height = adjusted_height + 'px'
        console.log( 'adjusted height: ', adjusted_height)
      } else {
        const adjusted_width = Math.floor( iframe.height * 1.778 )
        iframe.style.width = adjusted_width + 'px'
      }

      embedApi_inspiring.loadVideo();
      console.log('inspiring video playing ...')
  }

  //The API will call this function when the video player is ready
  function onPanoptoVideoReady()
  {
      // The video has successfully been loaded by onPanoptoIframeReady
      console.log('seek to 1 sec')
      embedApi_inspiring.seekTo(0);
  }

  //The API calls this function when a player state change happens
  function onPanoptoStateUpdate_inspiring(state)
  {
      if (state === PlayerState.Playing)
      {
        //   embedApi.setVolume(1);
        //   embedApi.setPlaybackRate(1);
        console.log( 'inspiring player playing ::: ', state )
        if (init_inspiring) {
          console.log('X_X_X inspiring video PAUSED ...')
          embedApi_inspiring.pauseVideo()
          init_inspiring = false
        }
      }
      else if ( state === PlayerState.Ended ) {
        console.log( 'inspiring video stopped ')
      }
  } 
/*
*  === Panopto video END
*/
onPanoptoEmbedApiReady()

</script>


<script dataname="waiting">
      /*
*  === Panopto video start
*/
      var embedApi_waiting
      let init = true

      function onPanoptoEmbedApiReady()
      {
          const w = window.innerWidth
          const h = window.innerHeight
          embedApi_waiting = new EmbedApi("waiting", {
              width: w,
              height: h,
              //This is the URL of your Panopto site
              serverName: "westcoastuniversity.hosted.panopto.com",
              sessionId: "1cb96a40-6b26-4b75-b491-b15d00022565",
              videoParams: { // Optional parameters
              //interactivity parameter controls if the user sees table of contents, discussions, notes, & in-video search
                  "interactivity": "none",
                  "showtitle": "false",
                  "hideoverlay": "false"
              },
              events: {
                  "onIframeReady": onPanoptoIframeReady,
                  "onReady": onPanoptoVideoReady,
                  "onStateChange": onPanoptoStateUpdate_waiting
              }
          });

          console.log('panopto embed api ready')
      }

      // The API will call this function when the iframe is ready
      function onPanoptoIframeReady()
      {
          // The iframe is ready and the video is not yet loaded (on the splash screen)
          // Load video will begin playback
          const player = document.getElementById('waiting')
          const iframe = player.querySelector("iframe");
          const ar = window.innerWidth/window.innerHeight
          console.log('AR : ', ar)
          let scale_factor = 1
          // console.log('window width & height ::: ', window.innerWidth, window.innerHeight)

          if ( ar < 1.778 ) {
            // console.log('scale factor ::: ', scale_factor)
            const adjusted_height = Math.floor( iframe.width / 1.778 )
            iframe.style.height = adjusted_height + 'px'
            console.log( 'adjusted height: ', adjusted_height)
          } else {
            const adjusted_width = Math.floor( iframe.height * 1.778 )
            iframe.style.width = adjusted_width + 'px'
          }

          embedApi_waiting.loadVideo();
          console.log('on--Panopto--Iframe--Ready')
      }

      //The API will call this function when the video player is ready
      function onPanoptoVideoReady()
      {
          // The video has successfully been loaded by onPanoptoIframeReady
          console.log('seek to 1 sec')
          embedApi_waiting.seekTo(0);
      }

      //The API calls this function when a player state change happens
      function onPanoptoStateUpdate_waiting(state)
      {
        console.log( 'player state ::: ', state )
          if (state === PlayerState.Playing)
          {
            //   embedApi.setVolume(1);
            //   embedApi.setPlaybackRate(1);
            console.log('waiting video playing ...')
            if (init) {
              embedApi_waiting.pauseVideo()
              init = false
            }
          }
          else if ( state === PlayerState.Ended) {
            embedApi_inspiring.playVideo()
            const inspiring = document.getElementById('inspiring')
            inspiring.style.display = ''

            const player = document.getElementById('pplayer')
            player.style.display = 'none'
            const waiting = document.getElementById('waiting')
            waiting.style.display = 'none'
            const noanswer = document.getElementById('no-answer')
            noanswer.style.display = 'none'
            const encouraging = document.getElementById('encouragement')
            encouraging.style.display = 'none'
          }
      } 
/*
*  === Panopto video END
*/
onPanoptoEmbedApiReady()

</script>


<script dataname="no-answer">
        var embedApi_no_answer
        let init_noanswer = true

        function onPanoptoEmbedApiReady()
        {
            const w = window.innerWidth
            const h = window.innerHeight
            embedApi_no_answer = new EmbedApi("no-answer", {
                width: w,
                height: h,
                //This is the URL of your Panopto site
                serverName: "westcoastuniversity.hosted.panopto.com",
                sessionId: shuffleArray(arre_noanswer)[0],
                videoParams: { // Optional parameters
                //interactivity parameter controls if the user sees table of contents, discussions, notes, & in-video search
                    "interactivity": "none",
                    "showtitle": "false"
                },
                events: {
                    "onIframeReady": onPanoptoIframeReady,
                    "onReady": onPanoptoVideoReady,
                    "onStateChange": onPanoptoStateUpdate_noanswer
                }
            });
  
            console.log('panopto embed api ready')
        }
  
        // The API will call this function when the iframe is ready
        function onPanoptoIframeReady()
        {
            // The iframe is ready and the video is not yet loaded (on the splash screen)
            // Load video will begin playback
            
            const player = document.getElementById('no-answer')
            const iframe = player.querySelector("iframe");
            const ar = window.innerWidth/window.innerHeight
            console.log('AR : ', ar)
            let scale_factor = 1
            // console.log('window width & height ::: ', window.innerWidth, window.innerHeight)
  
            if ( ar < 1.778 ) {
              // console.log('scale factor ::: ', scale_factor)
              const adjusted_height = Math.floor( iframe.width / 1.778 )
              iframe.style.height = adjusted_height + 'px'
              console.log( 'adjusted height: ', adjusted_height)
            } else {
              const adjusted_width = Math.floor( iframe.height * 1.778 )
              iframe.style.width = adjusted_width + 'px'
            }
  
            embedApi_no_answer.loadVideo();
            console.log('no-answer playing ...')
        }
  
        //The API will call this function when the video player is ready
        function onPanoptoVideoReady()
        {
            // The video has successfully been loaded by onPanoptoIframeReady
            console.log('seek to 1 sec')
            embedApi_no_answer.seekTo(0);
        }
  
        //The API calls this function when a player state change happens
        function onPanoptoStateUpdate_noanswer(state)
        {
          console.log( 'player state ::: ', state )
            if (state === PlayerState.Playing)
            {
              //   embedApi.setVolume(1);
              //   embedApi.setPlaybackRate(1);
              console.log('no answer video playing ...')
              if (init_noanswer) {
                embedApi_no_answer.pauseVideo()
                init_noanswer = false
              }
            }
            else if ( state === PlayerState.Ended) {
              console.log( 'no-answer video stopped' )
              embedApi_waiting.playVideo()
              const waiting = document.getElementById('waiting')
              waiting.style.display = ''

              const noanswer = document.getElementById('no-answer')
              noanswer.style.display = 'none'
              const inspiring = document.getElementById('inspiring')
              inspiring.style.display = 'none'
              const player = document.getElementById('pplayer')
              player.style.display = 'none'
              const encouraging = document.getElementById('encouragement')
              encouraging.style.display = 'none'

            }
        } 
  /*
  *  === Panopto video END
  */
  onPanoptoEmbedApiReady()
  
</script>


<script dataname="encouragement">
        var embedApi_encouragement
        let init_encouragement = true

        function onPanoptoEmbedApiReady()
        {
            const w = window.innerWidth
            const h = window.innerHeight
            embedApi_encouragement = new EmbedApi("encouragement", {
                width: w,
                height: h,
                //This is the URL of your Panopto site
                serverName: "westcoastuniversity.hosted.panopto.com",
                sessionId: shuffleArray(arre_encouragement)[0],
                videoParams: { // Optional parameters
                //interactivity parameter controls if the user sees table of contents, discussions, notes, & in-video search
                    "interactivity": "none",
                    "showtitle": "false"
                },
                events: {
                    "onIframeReady": onPanoptoIframeReady,
                    "onReady": onPanoptoVideoReady,
                    "onStateChange": onPanoptoStateUpdate_encouragement
                }
            });
  
            console.log('panopto embed api ready')
        }
  
        // The API will call this function when the iframe is ready
        function onPanoptoIframeReady()
        {
            // The iframe is ready and the video is not yet loaded (on the splash screen)
            // Load video will begin playback
            
            const player = document.getElementById('encouragement')
            const iframe = player.querySelector("iframe");
            const ar = window.innerWidth/window.innerHeight
            console.log('AR : ', ar)
            let scale_factor = 1
            // console.log('window width & height ::: ', window.innerWidth, window.innerHeight)
  
            if ( ar < 1.778 ) {
              // console.log('scale factor ::: ', scale_factor)
              const adjusted_height = Math.floor( iframe.width / 1.778 )
              iframe.style.height = adjusted_height + 'px'
              console.log( 'adjusted height: ', adjusted_height)
            } else {
              const adjusted_width = Math.floor( iframe.height * 1.778 )
              iframe.style.width = adjusted_width + 'px'
            }
  
            embedApi_encouragement.loadVideo();
            console.log('encouragement playing ...')
        }
  
        //The API will call this function when the video player is ready
        function onPanoptoVideoReady()
        {
            // The video has successfully been loaded by onPanoptoIframeReady
            console.log('seek to 1 sec')
            embedApi_encouragement.seekTo(0);
        }
  
        //The API calls this function when a player state change happens
        function onPanoptoStateUpdate_encouragement(state)
        {
          console.log( 'player state ::: ', state )
            if (state === PlayerState.Playing)
            {
              //   embedApi.setVolume(1);
              //   embedApi.setPlaybackRate(1);
              console.log('encouragement video playing ...')
              if (init_encouragement) {
                embedApi_encouragement.pauseVideo()
                init_encouragement = false
                console.log('encouragement video paused ...')
              }
            }
            else if ( state === PlayerState.Ended) {
              console.log( 'encouragement video stopped' )
              embedApi_waiting.playVideo()
              const waiting = document.getElementById('waiting')
              waiting.style.display = ''

              const noanswer = document.getElementById('no-answer')
              noanswer.style.display = 'none'
              const inspiring = document.getElementById('inspiring')
              inspiring.style.display = 'none'
              const player = document.getElementById('pplayer')
              player.style.display = 'none'
              const encouraging = document.getElementById('encouragement')
              encouraging.style.display = 'none'
            }
        } 
  /*
  *  === Panopto video END
  */
  onPanoptoEmbedApiReady()
  
</script>

<script dataname="pplayer">
// let seq = ['intro', 'waiting', 'inspring', 'response', 'encouraging', 'noanswer']
console.log( seq )

function play_noanswer( sessionId ){
  console.log( 'play noanswer() ')
    const noanswer = document.getElementById('no-answer')
    noanswer.style.display = ''
    const player = document.getElementById('pplayer')
    player.style.display = 'none'
    var iframe = noanswer.querySelector("iframe");
    // iframe.src = "https://google.com"
    console.log( iframe.src)
    // const sessionId = arreObj[topIntent].url
    const src = 'https://westcoastuniversity.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=' + sessionId + '&remoteEmbed=true&remoteHost=http%3A%2F%2Flocalhost%3A5173&embedApiId=no-answer&interactivity=none&showtitle=false'
    iframe.src = src;
}

function play_waiting(){
    console.log( 'play waiting() ')
    const waiting = document.getElementById('waiting')
    waiting.style.display = ''

    const player = document.getElementById('pplayer')
    player.style.display = 'none'
    const inspiring = document.getElementById('inspiring')
    inspiring.style.display = 'none'
    const noanswer = document.getElementById('no-answer')
    noanswer.style.display = 'none'
    const encouraging = document.getElementById('encouragement')
    encouraging.style.display = 'none'
}

function play_encouragement(){
    console.log( 'play encouraging video () ')
    const waiting = document.getElementById('encouragement')
    waiting.style.display = ''

    const player = document.getElementById('pplayer')
    player.style.display = 'none'
    const inspiring = document.getElementById('inspiring')
    inspiring.style.display = 'none'
    const noanswer = document.getElementById('no-answer')
    noanswer.style.display = 'none'
    const encouraging = document.getElementById('waiting')
    encouraging.style.display = 'none'
}

function play_video_id(sessionId){
  const player = document.getElementById('pplayer')
    player.style.display = ''
    var iframe = player.querySelector("iframe");
    // iframe.src = "https://google.com"
    console.log( iframe.src)
    // const sessionId = arreObj[topIntent].url
    const src = 'https://westcoastuniversity.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=' + sessionId + '&remoteEmbed=true&remoteHost=http%3A%2F%2Flocalhost%3A5173&embedApiId=pplayer&interactivity=none&showtitle=false'
    iframe.src = src;
}
/*
*  === Panopto video start
*/
      // Code to load the IFrame player API code asynchronously
      /*
      var tag = document.createElement('script');
      tag.src = "https://developers.panopto.com/scripts/embedapi.min.js"
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);  */

      // The following function creates an <iframe> and Panopto player
      var embedApi
      var init_intro = true

      function onPanoptoEmbedApiReady()
      {
          const w = window.innerWidth
          const h = window.innerHeight
          embedApi = new EmbedApi("pplayer", {
              width: w,
              height: h,
              //This is the URL of your Panopto site
              serverName: "westcoastuniversity.hosted.panopto.com",
              sessionId: "5ba467d7-db50-4d08-a615-b15e012b294f",
              videoParams: { // Optional parameters
              //interactivity parameter controls if the user sees table of contents, discussions, notes, & in-video search
                  "interactivity": "none",
                  "showtitle": "false"
              },
              events: {
                  "onIframeReady": onPanoptoIframeReady,
                  "onReady": onPanoptoVideoReady,
                  "onStateChange": onPanoptoStateUpdate
              }
          });

          console.log('########### panopto embedApi ready')
      }

      // The API will call this function when the iframe is ready
      function onPanoptoIframeReady()
      {
          const player = document.getElementById('pplayer')
          const iframe = player.querySelector("iframe");
          const ar = window.innerWidth/window.innerHeight
          console.log('AR : ', ar)
          let scale_factor = 1
          // console.log('window width & height ::: ', window.innerWidth, window.innerHeight)

          if ( ar < 1.778 ) {
            // console.log('scale factor ::: ', scale_factor)
            const adjusted_height = Math.floor( iframe.width / 1.778 )
            iframe.style.height = adjusted_height + 'px'
            console.log( 'adjusted height: ', adjusted_height)
          } else {
            const adjusted_width = Math.floor( iframe.height * 1.778 )
            iframe.style.width = adjusted_width + 'px'
          }

          embedApi.loadVideo();
          console.log('########### on--Panopto--Iframe--Ready')
      }

      //The API will call this function when the video player is ready
      function onPanoptoVideoReady()
      {
          // The video has successfully been loaded by onPanoptoIframeReady
          console.log('########### video ready')
          embedApi.seekTo(0);
      }

      //The API calls this function when a player state change happens
      function onPanoptoStateUpdate(state)
      {
          console.log( '########### player state ::: ', state )
          if (state === 1)
          {
            //   embedApi.setVolume(1);
            //   embedApi.setPlaybackRate(1);
            console.log('########### video playing ...')
          }
          else if ( state === PlayerState.Ended) {
            console.log('########### video Ended')

            if (init_intro) {
              embedApi_waiting.playVideo()
              play_waiting()
              init_intro = false
            } else {
              embedApi_encouragement.playVideo()
              play_encouragement()
            }
          }
          else if ( state === 2) {
            console.log('########### video Paused')
          }
      }
/*
*  === Panopto video END
*/
onPanoptoEmbedApiReady()

</script>

    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/vanjs-org/van/public/van-1.5.0.nomodule.min.js"></script>
    
    <script type="module" src="/app.js"></script>

    <!-- <script src="https://arredondo.azurewebsites.net/api/load_chat_script"></script>
    <script type="text/javascript"
        data-snippetRef="${sissourceid}**${name_family}**${context_label}**${email}**${term_name}**_course_start_**${course_id}**${account_id}"
      >
        console.log('snippetRef loaded')
    </script> -->
  </body>
</html>
